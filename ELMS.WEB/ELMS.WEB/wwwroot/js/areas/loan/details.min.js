$(document).ready(function(){function n(n,t){t&&(n+=`?${t}`);$.get(n,function(n){if(n.message)window.location.href=encodeURI(`/Loan/Loan/DetailsView?ErrorMessage=${n.message}`);else if($("#modalDialog").html(n),$("#modalRoot").modal("show"),$("#modalRoot").is(":visible")){var t=jQuery("form",$modal).first();jQuery.validator.unobtrusive.parse(t)}})}function t(n,t=""){t==""&&(t="/Loan/Loan?");$.ajax({method:n.attr("method"),url:n.attr("action"),data:n.serialize(),success:function(n){n.success?window.location.href=encodeURI(`${t}&successMessage=${n.success}`):n.error?window.location.href=encodeURI(`${t}&errorMessage=${n.error}`):$("#modalDialog").html(n)}})}$(".equipmentDetails").click(function(){n($(this).data("url"),`equipmentUID=${$(this).data("uid")}`)});$(".createLoanExtension").click(function(){n($(this).data("url"),`loanUID=${$(this).data("uid")}`)});$("#modalRoot").on("submit","#formCreate",function(n){n.preventDefault();var i=$(this),r=$(this).data("loanuid");t(i,`/Loan/Loan/DetailsView?uid=${r}`)});$("#modalRoot").on("submit","#formCreateExtension",function(n){n.preventDefault();var i=$(this);t(i)})});